<nb-layout>

	<nb-layout-header fixed>
		<!-- Insert header here -->
	</nb-layout-header>

	<nb-layout-column class="rw-column">
		<nb-card>
			<nb-card-header>Pick Reward</nb-card-header>
			<nb-card-body class="rw-pick">

				<button nbButton
						status="success" (click)="pickReward()">Pick NOW!</button>

				<div class="picked">{{pickedReward?.name}}</div>

				
			</nb-card-body>
		</nb-card>
	</nb-layout-column>
	
	<nb-layout-column class="rw-column">
		<nb-card>
			<nb-card-header>My Rewards</nb-card-header>
			<nb-card-body>
				<nb-list>
					<nb-list-item *ngFor="let reward of userRewards">
						<div class="rw-name">{{ reward.name | zl }}</div>
						<div class="rw-frequency">{{reward.amount}}</div>
						<button nbButton
				status="success"   (click)="userUserReward(reward)"><nb-icon icon="arrow-downward-outline"></nb-icon></button>
					</nb-list-item>
					<nb-list-item>
						<div class="rw-name"><b>total: {{ getTotal() | zl }}</b> </div>
					</nb-list-item>
				</nb-list>
			</nb-card-body>
		</nb-card>
	</nb-layout-column>


	<nb-layout-column class="rw-column">
		<nb-card>

			<nb-card-header>Configure Rewards</nb-card-header>
			<nb-card-body>
				<form [formGroup]="addRewardForm">
					<button nbButton
							status="info" [disabled]="!addRewardForm.valid" (click)="addReward()">Add</button>
					<input  formControlName="name"
						   type="text"
						   nbInput
						   status="basic"
						   placeholder="Name"
						   class="rw-name">
					<input nbInput
							formControlName="frequency"
						   status="basic"
						   class="rw-frequency">
				</form>
				<nb-list>
					<nb-list-item *ngFor="let reward of rewards; trackBy: trackById">
						<div class="rw-name">{{ reward.name | zl }}</div>
						<div class="rw-frequency">{{reward.frequency}}</div>
						<button nbButton
							status="danger" size="tiny"  (click)="removeReward(reward)"><nb-icon icon="trash-outline"></nb-icon></button>
					</nb-list-item>
				</nb-list>
			</nb-card-body>
		</nb-card>
	</nb-layout-column>

</nb-layout>